<!DOCTYPE html>
<html lang="PT_BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site de vendas Fadminas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
   <link rel="stylesheet" href="style.css">
   <script src="Java.js"></script>
   
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" 
   integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg==" 
   crossorigin="anonymous" 
   referrerpolicy="no-referrer" />

   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
   rel="stylesheet"
   integrity="sha384-aFq/bzH65dt+w6F1200MVUpc+21e05RygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp"
   crossorigin="anonymous" />

   <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js" 
   integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==" 
   crossorigin="anonymous" 
   referrerpolicy="no-referrer"></script>

   
</head>
<body>
    <div class="container text-center">
        <div class="topo" id="topo">
            <h1>Bem-vindo</h1>
            <h1>Temos delivery</h1>
            <h1>Aceitamos cartões</h1>
            <h1>Temos:</h1>
        </div>

<style>body {
    background-color: powderblue; /* Fundo da página */
    font-family: Arial, sans-serif;
}
.product-img {
    max-width: 150px; /* Ajuste do tamanho das imagens */
    height: auto;
    margin-bottom: 15px;
}
.card {
background-color: powderblue; /* Fundo similar ao background da página */
border-radius: 8px; /* Deixa os cantos arredondados */
box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); /* Adiciona leve sombra */
}
#Rodapé {
background-color: powderblue; /* Mantém o fundo do rodapé consistente */
padding: 20px;
border-radius: 8px;
}

.lista-nomes{

text-justify: auto;

}

.product-img {
   max-width: 100%;
   height: 150px;
   object-fit: contain;
   display: block;
   margin: 0 auto;
       }


#carrinho{
  font-family: Arial, sans-serif;
  margin: 20px;
  margin-top: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            min-height: 50px;
            width: 200px;

}

.topo h1{
  font-size: 100px;
  }

.product {
  text-align: center; 
  margin: 10px; 
  padding: 20px;
  border: 2px solid black;
  flex: 1 1 250px; 
  max-width: 300px; 
}

.totalvalue{

  text-align: right;
}

.product img {
  max-width: 100%; 
  height: auto; 
}

h1, h2, h3 {
  margin: 30px 0; 
}

.select-container {
  margin-top: 10px; 
}

.danix{
  text-align: center;
}

@media (max-width: 980px) {
  html {
    font-size: 150%;
  }

.topo{
  margin:0;
  text-align: center;
 }

.topo h1{
  font-size: 280%;
}

form{
  width: 90%;
  background-color: blanchedalmond;
}

form input {
  margin-bottom: 1.1rem;
  font-size: rem;

}

.flexdiv{
  display: flex;
  flex-direction: column;
}

#img  {

  width:"304"; 
  height:"228"

}
  
}

@media (max-width: 350px) {
  html{
    font-size: 50%;
    background-color: rgb(240, 118, 36);
    }

  .topo{
    margin:0;
    background-color: rgb(59, 166, 145);
    font-size: 130%;
  }
     
  }
  
  form{
    background-color: 5%;
    width: 250px;
  }
  
  form input {
          font-size: 1,8rem;
  }

  .danix{

    font-size: 20px;

  }
    </style>



        <div class="row g-4">
            <div class="col-md-6">
                <div class="card p-3 text-center">
                    <h1>Danix</h1>
                    <h1>R$ 3</h1>
                    <img src="https://www.arcor.com.br/wp-content/uploads/2019/06/Danix-Chocolate-130g.png" alt="Danix Foto" class="product-img"> 
                    <select class="sabor mt-2">
                        <option value="0">Escolha o sabor</option>
                        <option value="1">Morango</option>
                        <option value="2">Chocogelato</option>
                        <option value="3">Chocolate</option>       
                    </select> 
                    <select class="quantidade mt-2">
                        <option value="0">Quantidade</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select> 
                </div>
            </div>

            <div class="col-md-6">
                <div class="card p-3 text-center">
                    <h1>Guaravita</h1>
                    <h1>R$ 3</h1>
                    <img src="https://img.cdndsgni.com/preview/10927054.jpg" alt="Guaravita" class="product-img">
                    <select class="quantidade mt-2">
                        <option value="0">Quantidade</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card p-3 text-center">
                    <h1>Bis Xtra</h1>
                    <h1>1 por R$ 3 e 4 por R$ 10</h1>
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQfP4maCCLpFL5tQsv_Wym265B2Aed2VXJFsg&s" alt="Bis Xtra" class="product-img">
                    <select class="quantidade mt-2">
                        <option value="0">Quantidade</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
            </div>

            <div class="col-md-6">
                <div class="card p-3 text-center">
                    <h1>Suco <i>gelado</i></h1>
                    <h1>1 Suco por R$3 e 4 por R$10</h1>    
                    <img src="https://cdn.shoppub.io/cdn-cgi/image/w=1000,h=1000,q=80,f=auto/pereirao/media/uploads/produtos/foto/bd5f4fbac0911file.png" alt="Suco Fruta aki" class="product-img"> 
                    <select class="sabor mt-2">
                        <option value="0">Escolha o sabor</option>
                        <option value="1">Uva</option>
                        <option value="2">Pêssego</option>
                        <option value="3">Laranja</option>
                        <option value="4">Manga</option>       
                    </select>  
                    <select class="quantidade mt-2">
                        <option value="0">Quantidade</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

<script>
var listaNomes = [];
var totalGeral = 0;

function btnCadastrar(event) {
    var nome = $("#nome").val();
    var quarto = $("#quarto").val();
    var saboresSelecionados = [];
    var total = 0;

    document.querySelectorAll(".card").forEach(card => {
        var produto = card.querySelector("h1").innerText;
        var saborSelect = card.querySelector(".sabor");
        var quantidadeSelect = card.querySelector(".quantidade");

        if (quantidadeSelect && quantidadeSelect.value !== "0") {
            var quantidade = parseInt(quantidadeSelect.value);
            var sabor = "";

            // Apenas Danix e Suco terão sabor exibido
            if (produto.includes("Danix") || produto.includes("Suco")) {
                sabor = (saborSelect && saborSelect.value !== "0") ? saborSelect.options[saborSelect.selectedIndex].text : "Sabor aleatório";
                saboresSelecionados.push(`<b>${produto}</b> - Sabor: ${sabor} - Quantidade: ${quantidade}`);
            } else {
                saboresSelecionados.push(`<b>${produto}</b> - Quantidade: ${quantidade}`);
            }

            // Preço e desconto
            var precoUnitario = 3.00;
            var desconto = (quantidade - 1) * 0.50;
            var precoTotal = (precoUnitario * quantidade) - desconto;
            total += precoTotal;
        }
    });

    console.log(nome);
    console.log(quarto);
    console.log(saboresSelecionados);
    console.log("Total: R$", total.toFixed(2));

    var validacao = validarFormulario(nome, quarto, saboresSelecionados);
    if (!validacao) {
        alert("Preencha todos os campos");
        return;
    }

    let pessoaObjeto = { nome, quarto, sabores: saboresSelecionados, total };
    listaNomes.push(pessoaObjeto);
    totalGeral += total;

    AdicionarNomesElementoHtml(pessoaObjeto);
    AtualizarTotal();
}

function AdicionarNomesElementoHtml(pessoaObjeto) {
    var elementoHtml = document.getElementById("lista-nomes");
    var novoCodigoHtml = `<li class="mt-3 list-group-item" style="background-color: #f8f9fa; color: #333;">
        <button onclick='ExcluirElemento(this, ${pessoaObjeto.total})' class='btn btn-danger'>
            <i class="fa fa-times" aria-hidden="true"></i>
        </button>
        Nome: ${pessoaObjeto.nome} - Quarto: ${pessoaObjeto.quarto} - Itens: ${pessoaObjeto.sabores.join(", ")}
    </li>`;

    elementoHtml.insertAdjacentHTML("beforeend", novoCodigoHtml);
}

function ExcluirElemento(element, totalRemovido) {
    element.parentNode.remove();
    totalGeral -= totalRemovido;
    AtualizarTotal();
}

function AtualizarTotal() {
    document.getElementById("totalValue").innerText = `R$ ${totalGeral.toFixed(2)}`;
}

function eventEscrever(event) {
    // console.log(event.key);
}

function validarFormulario(nome, quarto, sabores) {
    if (!nome || !quarto || sabores.length === 0) {
        return false;
    }
    return true;
}

document.addEventListener("DOMContentLoaded", function () {
    document.querySelectorAll(".quantidade").forEach(select => {
        select.addEventListener("change", function () {
            console.log("Valor selecionado:", select.value);
        });
    });

    document.getElementById("enviarPedido").addEventListener("click", function () {
        alert("Seu pedido foi enviado");
        location.reload();
    });
});

function mudarImagem(quantidade, sabor) {
    const imagens = {
        "chocolate": "https://www.arcor.com.br/wp-content/uploads/2019/06/Danix-Chocolate-130g.png",
        "morango": "https://certodistribuicao.agilecdn.com.br/2631_2_1.jpg?v=20-263813984",
        "chocogelato": "https://bretas.vtexassets.com/arquivos/ids/197996/6571cb00558925a4e889b610.jpg?v=638375531559000000"
    };
    document.getElementById(quantidade).src = imagens[sabor];
}
</script>

    <!-- Parte inferior restaurada -->
    <div class="final text-center"> 

        <div id="Rodapé">
            
            <h1>Venha logo antes que acabe, se você não comprar, só você que não vai se alimentar.</h1>

            <h4>Desconto de R$0.50 por quantidade</h4>

            <h1>Para delivery</h1>

            <h1>Nome</h1>

            <input onkeyup="eventEscrever(event)" type="text" placeholder="Nome" id="nome" required>

            <h1>Quarto</h1>

            <input onkeyup="eventEscrever(event)" type="text" placeholder="Nº do Quarto e o Residencial" id="quarto" required>

            <p></p>

            <h2>Carrinho</h2>

            <div class="mt-5 p-5">

                <ul id="lista-nomes" class="list-group">
                    <!---<li class="list-group-item">Item1</li>
                    <li class="list-group-item">item2</li>
                    <li class="list-group-item">item3</li>
                    <li class="list-group-item">item4</li> --->
                   
                </ul>

            </div>
            
               <nav class="navbar navbar-default navbar-fixed-bottom">

                <div class="container">

                    <h4 class="text-center text-success">Total: <span id="totalValue">$ 0,00</span></h4>
                
                </div>

            </nav>
        
           <!-- <input type="button"  --> 

            <input onclick="btnCadastrar()" type="button" id="adicionar" value="Adicionar ao Carrinho">

            <br>
             
            <p></p>

            <input type="button" value="Enviar pedido" id="enviarPedido">

            <p></p>

            <h9>Fadminas 2025</h9>

         

</body>
</html>
